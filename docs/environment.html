<!DOCTYPE html>
<html>
<head>
<title>miniExtend 搭建环境</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<!-- 将内部样式表替换为外部样式表 -->
<!--
<style type="text/css">
</style>
-->
<link rel="stylesheet" type="text/css" href="./css/markdownpad-github.css" />

</head>
<body>
<h1>miniExtend 搭建环境</h1>
<h2>初始化全局作用域下的脚本</h2>
<p>关于作用域，参见<a href="./document.html#namespace">定义</a>。<br />
在全局作用域下，按<a title="源代码开头显示了它们依赖的脚本">一定顺序</a>加入这些脚本。<br />
脚本所对应的源文件正好为脚本名加上 <code>.lua</code> 扩展名，例如 <code>core</code> 脚本对应 <code>core.lua</code>。<br />
以下是一个合法的顺序，你可以按照该顺序来创建脚本：<br />
1. <code>core</code><br />
2. <code>time</code><br />
3. <code>console</code><br />
4. <code>object</code><br />
5. <code>event</code><br />
6. <code>ui</code><br />
直接将源代码复制到脚本中即可，也可以使用<img src="./img/webedit-load.png" alt="加载文件按钮" />来加载源代码。<br />
完成后界面应如图所示，其中 main 脚本组管理自己的脚本。<br />
<img src="./img/global-namespace-script.png" alt="全局作用域下的脚本初始化后结果" /><br />
图中的脚本和脚本组都是有命名的，这些命名不会影响 miniExtend 正常运行，但良好的命名习惯有利于你在错误发生时及时发现错误的脚本，而不会在错误信息前只有 <span style="color:red;"><code>[脚本]</code></span>。  
</p>
<h2>自定义 UI 环境</h2>
<p>对于<strong>所有</strong>  UI 作用域，创建 <code>ui_main</code> 脚本，对应源文件为 <code>ui_main.lua</code> ，然后<span style="color:red;">将 <code>uiid</code> 替换为所属 UI 界面 id</span> 。<br />
注： UI 界面创建时，对应作用域下可能会自动创建一个<a title="该触发器会使得玩家自动打开该 UI 界面">触发器</a>，创建条件不明，你应该<strong>将其删除</strong>。<br />
<img src="./img/ui_main.png" alt="ui_main 脚本" /><br />
<img src="./img/ui-namespace-script.png" alt="UI 作用域下的脚本初始化后结果" />  
</p>
<h2>正式开始使用 miniExtend</h2>
<p>做完以上操作，你已经成功搭建了 miniExtend 环境，现在可以新建脚本使用 miniExtend 功能了。<br />
注：使用 miniExtend 的脚本<strong>必须位于全局作用域下</strong>，且<strong>位置必须在 miniExtend 脚本之后</strong>，否则无法正常使用 miniExtend 。<br />
<img src="./img/myscript.png" alt="创建自己的脚本" />  
</p>
<h3>支持编辑器自动完成</h3>
<p>你可以在自己代码中插入 <code>ide.lua</code> 中的内容，里面包含了 miniExtend 关键字，这允许你的编辑器自动完成单词。<br />
<img src="./img/ide.png" alt="在脚本中插入 ide.lua" /><br />
该步骤完全是可选的。</p>
<h3>第一个 miniExtend 脚本</h3>
<p>接下来我们使用 miniExtend 监听<em>玩家动作改变</em>这一事件，事件发生时在日志以 <code>&quot;tag&quot;</code> 为标签输出 <code>&quot;Hello World!&quot;</code> 。</p>
<pre><code>Event:connect([[Player.PlayAction]], function(paprm)
    Console:logtag(&quot;tag&quot;, &quot;Hello, world!&quot;);
end)
</code></pre>


</body>
</html>
<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->
