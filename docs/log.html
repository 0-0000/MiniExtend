<!-- converted -->
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>MiniExtend Log</title>
<link rel="stylesheet" type="text/css" href="./css/markdown.css" />
</head>
<body class='markdown-preview' data-use-github-style><h1 id="miniextend-log">MiniExtend Log</h1>
<p>对应源文件： <em>Log.lua</em>  </p>
<hr>
<h2 id="log-作用域"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">Log</code> 作用域</h2>
<p>这里的 Log 指日志，如图所示：<br><img alt="日志" src=".\img\log.png"><br>在控制台输出的信息几乎是不可见的，但是日志中的信息是可见的，所以需要在日志输出信息。  </p>
<h3 id="提示">提示</h3>
<blockquote>
<p>在开发者工具中调整<img alt="测试" src=".\img\test.png">至图示状态来启用日志，新地图创建时该按钮可能出于启用状态但日志并未开启，为了保证日志启用可以点击该按钮两次来刷新状态。<br>在玩法模式下按<img alt="日志按钮" src=".\img\log-button.png">来打开日志窗口。<br>按<img alt="清空日志" src=".\img\clear-log.png">清空日志。  </p>
</blockquote>
<hr>
<h2 id="函数">函数</h2>
<p><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">Log</code> 作用域包含以下<strong>静态</strong>函数:<br>以下函数都会返回一个 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">{boolean}</code> 类型的变量， <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">true</code> 表示调用 API 成功，否则 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">false</code> 表示调用 API　失败。　　</p>
<ul>
<li><p><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">log(...)</code>  </p>
<blockquote>
<p>在日志输出 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">...</code> 。<br><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">...</code>:<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">{all}</code> 输出的内容<br>使用 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">"global"</code> 作为标签。<br>格式化方式与 lua <strong>基本</strong>函数 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">print(...)</code> 相同(使用 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">tostring()</code>)。<br>等价于 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">Log.logtag("global", ...);</code> 。  </p>
</blockquote>
</li>
<li><p><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">logtag(tag, ...)</code>  </p>
<blockquote>
<p>在日志以 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">tag</code> 为标签输出 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">...</code> 。<br><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">tag</code>:<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">{string}</code> 输出标签，如果不是 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> 类型那么函数行为会令人困惑。<br><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">...</code>:<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">{all}</code> 输出内容，格式化方式与 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">log()</code> 相同。  </p>
</blockquote>
</li>
<li><p><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">warn(message)</code>  </p>
<blockquote>
<p>在日志以 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">"warning"</code> 为标签输出输出警告信息 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">message</code> 。<br><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">message</code>:<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">{string}</code> 输出的警告信息。<br>与脚本内置的 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">warn()</code>(通过 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">Env.index("warn")</code> 访问该函数) 函数不同的是，该函数会以黄色高亮显示警告。  </p>
</blockquote>
</li>
<li><p><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">error(message)</code>  </p>
<blockquote>
<p>在日志以 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">"error"</code> 为标签输出输出错误信息 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">message</code> 。<br><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">message</code>:<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">{string}</code> 输出的错误信息。<br>与 lua <strong>基本</strong>函数 <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">error()</code> 不同的是，该函数不会抛出错误。<br>该函数会以红色高亮显示警告。  </p>
</blockquote>
</li>
<li><p><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">clear()</code>  </p>
<blockquote>
<p>清空日志，效果和在控制台点击<img alt="清空日志" src=".\img\clear-log.png">按钮一样。<br>注意，该函数调用的 API 是不稳定的，如果在清空后没有通过一些方式刷新日志，则信息似乎仍然会存在。  </p>
</blockquote>
</li>
</ul>
<p>这些函数都比较简单，就不举实例了，可自行测试效果。  </p></body>
</html>
